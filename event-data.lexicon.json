{
  "lexicon": 1,
  "id": "blue.deniz.atproto.event",
  "defs": {
    "main": {
      "type": "object",
      "properties": {
        "v": {
          "type": "integer",
          "const": 0
        },
        "name": {
          "type": "unknown"
        },
        "description": {
          "type": "unknown"
        },
        "venues": {
          "type": "array",
          "items": {
            "type": "union",
            "refs": [
              "#physicalVenue",
              "#onlineVenue"
            ]
          }
        },
        "instances": {
          "type": "array",
          "items": {
            "type": "ref",
            "ref": "#eventInstance"
          }
        },
        "status": {
          "type": "ref",
          "ref": "#eventStatus"
        }
      },
      "required": [
        "v",
        "name"
      ]
    },
    "physicalVenue": {
      "type": "object",
      "properties": {
        "venueId": {
          "type": "string"
        },
        "venueType": {
          "type": "string",
          "const": "physical"
        },
        "venueName": {
          "type": "unknown"
        },
        "address": {
          "type": "ref",
          "ref": "#address"
        },
        "coordinates": {
          "type": "ref",
          "ref": "#coordinates"
        }
      },
      "required": [
        "venueId",
        "venueType",
        "venueName"
      ]
    },
    "address": {
      "type": "object",
      "properties": {
        "addr": {
          "type": "string"
        },
        "countryCode": {
          "type": "string"
        },
        "postalCode": {
          "type": "string"
        }
      }
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "lat": {
          "type": "integer"
        },
        "lng": {
          "type": "integer"
        }
      },
      "required": [
        "lat",
        "lng"
      ]
    },
    "onlineVenue": {
      "type": "object",
      "properties": {
        "venueId": {
          "type": "string"
        },
        "venueType": {
          "type": "string",
          "const": "online"
        },
        "venueName": {
          "type": "unknown"
        },
        "url": {
          "type": "string"
        }
      },
      "required": [
        "venueId",
        "venueType",
        "venueName"
      ]
    },
    "eventInstance": {
      "type": "object",
      "properties": {
        "venueIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "start": {
          "type": "string"
        },
        "end": {
          "type": "string"
        },
        "status": {
          "type": "ref",
          "ref": "#eventStatus"
        }
      }
    },
    "eventStatus": {
      "type": "string",
      "knownValues": [
        "planned",
        "uncertain",
        "postponed",
        "cancelled",
        "suspended"
      ]
    }
  }
}
